{% extends 'base.html.twig' %}

{% block title %}Adresse index{% endblock %}

{% block body %}
    <style>
        .lolo {
            display: flex;
        }
    </style>
    <h1 class=" container text-center p-4">Mes Adresses</h1>
    <div class="row">
        <div class="text-center col-md-12 my-3 mx-3 lolo">
            <h4 > {{ villes | length }} Villes</h4>
            {% set newVilles = [] %}
            {% for adresse in adresses %}
                {% if adresse.ville not in newVilles %}
                    <div class="mx-5">
                        <input type="checkbox"> {{ adresse.ville }}
                    </div>
                {% set  newVilles = newVilles|merge([adresse.ville])%}
                {% endif %}
            {% endfor %}
            <a href="" class="btn btn-success ">Filtrer</a>
        </div>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Rue</th>
                <th>Numero</th>
                <th>CodePostal</th>
                <th>Ville</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for adresse in adresses %}
            <tr>
                <td>{{ adresse.id }}</td>
                <td>{{ adresse.rue }}</td>
                <td>{{ adresse.numero }}</td>
                <td>{{ adresse.codePostal }}</td>
                <td>{{ adresse.ville }}</td>
                <td>
                    <a href="{{ path('adresse_show', {'id': adresse.id}) }}">show</a>
                    <a href="{{ path('adresse_edit', {'id': adresse.id}) }}">edit</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="6">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('adresse_new') }}" class="btn btn-info mx-2 my-2">Create new</a>
{% endblock %}
